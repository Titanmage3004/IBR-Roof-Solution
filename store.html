<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Store</title>
  <!-- model-viewer for 3D placeholders -->
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/tailwind.css">
  <!-- model-viewer for 3D placeholders -->
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body class="min-h-screen flex flex-col bg-gray-50 text-gray-800 antialiased">
  <header class="bg-white shadow-sm">
    <div class="container mx-auto px-6">
      <nav class="nav-grid h-28 px-6">
        <div class="nav-left">
          <a href="index.html" class="pill-btn">Home</a>
          <a href="about.html" class="pill-btn">About</a>
        </div>

        <div class="logo text-center">
          <a href="index.html" class="inline-block">
            <img src="assets/ibr_header_logo.webp" alt="Logo" class="h-14 w-auto mx-auto">
          </a>
        </div>

        <div class="nav-right">
          <a href="store.html" class="pill-btn">Store</a>
          <a href="contact.html" class="pill-btn">Contact</a>
        </div>
        <!-- Mobile toggle (appears at <=1200px) -->
        <button id="mobileMenuBtn" class="mobile-toggle" aria-expanded="false" aria-controls="mobileMenu" aria-label="Open navigation">
          <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false" xmlns="http://www.w3.org/2000/svg">
            <rect x="3" y="6" width="18" height="2" rx="1" />
            <rect x="3" y="11" width="18" height="2" rx="1" />
            <rect x="3" y="16" width="18" height="2" rx="1" />
          </svg>
        </button>
      </nav>
      <div id="mobileMenu" class="hidden py-2">
        <div class="flex flex-col gap-2">
          <a href="index.html" class="mobile-nav-link px-3 py-2 rounded">Home</a>
          <a href="about.html" class="mobile-nav-link px-3 py-2 rounded">About</a>
          <a href="store.html" class="mobile-nav-link px-3 py-2 rounded">Store</a>
          <a href="contact.html" class="mobile-nav-link px-3 py-2 rounded">Contact</a>
        </div>
      </div>
      <div id="mobileMenu3" class="hidden sm:hidden py-2">
        <div class="flex flex-col gap-2">
          <a href="index.html" class="mobile-nav-link px-3 py-2 rounded">Home</a>
          <a href="about.html" class="mobile-nav-link px-3 py-2 rounded">About</a>
          <a href="store.html" class="mobile-nav-link px-3 py-2 rounded">Store</a>
          <a href="contact.html" class="mobile-nav-link px-3 py-2 rounded">Contact</a>
        </div>
      </div>
    </div>
  </header>

  <main class="flex-grow container mx-auto px-4 py-8">
    <div class="flex items-center justify-between">
      <h1 class="text-2xl font-bold">Store</h1>
      <div>
        <button id="cartBtn" class="px-3 py-2 rounded bg-blue-600 text-white">Cart (<span id="cartCount">0</span>)</button>
      </div>
    </div>

    <section id="products" class="mt-6 grid sm:grid-cols-2 lg:grid-cols-3 gap-6"></section>

    <!-- DIY Kit banner (combined products) -->
    <section class="diy-kit">
      <div class="kit-strap">DIY KIT</div>
      <div class="kit-title">INNER RIB BLOCK + UPPER SUPPORT BRACKET + SCREW &amp; WASHER</div>
      <div class="kit-products" style="display:flex;gap:1rem;justify-content:flex-start;align-items:flex-start;margin-bottom:0.5rem">
        <model-viewer src="https://modelviewer.dev/shared-assets/models/Astronaut.glb" crossorigin="anonymous" alt="Inner Rib Block" camera-controls auto-rotate reveal="auto" class="model-viewport" shadow-intensity="1"></model-viewer>
        <model-viewer src="https://modelviewer.dev/shared-assets/models/RobotExpressive.glb" crossorigin="anonymous" alt="Upper Roof Support Bracket" camera-controls auto-rotate reveal="auto" class="model-viewport" shadow-intensity="1"></model-viewer>
        <model-viewer src="https://modelviewer.dev/shared-assets/models/Chair.glb" crossorigin="anonymous" alt="Screw and Washer" camera-controls auto-rotate reveal="auto" class="model-viewport" shadow-intensity="1"></model-viewer>
      </div>

      <!-- Price for the DIY kit moved into controls-left to align with product cards -->

      <div class="kit-controls" style="margin-top:0.5rem;display:flex;flex-direction:column;align-items:center;gap:0.75rem">
        <div class="kit-controls-row" style="display:flex;gap:2rem;align-items:center;justify-content:center;flex-wrap:wrap;">
          <div class="color-block" style="display:flex;flex-direction:column;align-items:flex-start">
            <div class="color-label" style="font-weight:700;margin-bottom:0.25rem">Color Selection:</div>
            <div class="swatches" data-id="kit">
              <button data-color="black" class="swatch selected" style="background:#111827" aria-label="black"></button>
              <button data-color="white" class="swatch" style="background:#ffffff" aria-label="white"></button>
              <button data-color="green" class="swatch" style="background:#10b981" aria-label="green"></button>
              <button data-color="blue" class="swatch" style="background:#3b82f6" aria-label="blue"></button>
            </div>
          </div>

          <div class="units-block" style="display:flex;flex-direction:column;align-items:center">
            <div class="units-label" style="font-weight:700;margin-bottom:0.25rem">Units Required:</div>
            <div class="qty-controls" data-id="kit">
              <button class="qty-button btn-decrease" data-id="kit" aria-label="Decrease">−</button>
              <div class="qty-value" data-id="kit">5</div>
              <button class="qty-button btn-increase" data-id="kit" aria-label="Increase">+</button>
            </div>
          </div>

          <div class="price-block" style="display:flex;flex-direction:column;align-items:flex-start">
            <div class="price-row" style="margin-bottom:0.25rem">
              <div class="price-label">Price (R):</div>
              <div class="price-main-row">
                <div class="price-pill">R15.00</div>
                <div class="price-per-unit">per unit</div>
              </div>
            </div>
            <div class="price-min" style="text-align:left">Minimum order: 5 units</div>
          </div>
        </div>

        <div style="margin-top:0.25rem">
          <button class="add-to-cart" data-id="kit">Add DIY Kit to cart</button>
        </div>
      </div>
    </section>

    <!-- Cart modal -->
    <div id="cartModal" class="modal-overlay hidden" aria-hidden="true">
      <div class="modal-panel" role="dialog" aria-modal="true" aria-labelledby="cartTitle">
        <div class="modal-header">
          <h2 id="cartTitle">Your Cart</h2>
          <button id="closeCartTop" class="modal-close-btn" aria-label="Close cart">✕</button>
        </div>
  <div id="cartItems" class="cart-items-list" aria-live="polite"></div>
  <div class="shipping-note">Free shipping on orders R500 and above</div>
        <div class="cart-footer">
          <div class="cart-summary" style="display:flex;flex-direction:column;gap:0.25rem;align-items:flex-start">
            <div class="cart-summary-items" style="font-size:0.9rem;color:#6b7280">Items: <span id="cartItemsCount">0</span></div>
            <div class="cart-summary-total" style="font-weight:800;font-size:1.1rem" id="cartTotal">R0.00</div>
          </div>
          <div class="flex gap-2">
            <button id="closeCart" class="px-3 py-2 rounded border">Close</button>
            <button id="checkout" class="px-3 py-2 rounded bg-green-600 text-white">Checkout</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Invoice modal (shown on Checkout) -->
    <div id="invoiceModal" class="modal-overlay hidden" aria-hidden="true">
      <div class="modal-panel" role="dialog" aria-modal="true" aria-labelledby="invoiceTitle">
        <div class="modal-header">
          <h2 id="invoiceTitle">Invoice</h2>
          <button id="closeInvoice" class="modal-close-btn" aria-label="Close invoice">✕</button>
        </div>
        <div id="invoiceBody" style="max-height:62vh;overflow:auto;padding-right:0.5rem"></div>
        <div class="cart-footer" style="margin-top:0.75rem">
          <div style="display:flex;gap:0.5rem">
            <button id="printInvoice" class="px-3 py-2 rounded border">Print / Download</button>
            <button id="downloadInvoice" class="px-3 py-2 rounded bg-blue-600 text-white">Download PNG</button>
            <button id="markPaid" class="px-3 py-2 rounded bg-green-600 text-white">I've Paid</button>
          </div>
        </div>
      </div>
    </div>

  </main>

  <!-- Footer matching reference: left pill + note, centered logo + copy, right pill + socials -->
  <footer class="site-footer mt-12">
    <div class="container mx-auto px-6 py-6">
      <div class="footer-row">
        <div class="footer-left">
          <a href="store.html" class="pill-btn">Products</a>
          <div class="footer-note mt-2">Free Shipping on orders over R500</div>
        </div>

        <div class="footer-center">
          <img src="assets/ibr_header_logo.webp" alt="IBR Roof Solutions" />
          <div class="footer-small mt-2">© 2026 IBR Roof Solutions. All rights reserved.</div>
        </div>

        <div class="footer-right">
          <a href="contact.html" class="pill-btn">Contact Us</a>
          <div class="social-icons mt-2">
            <a href="#" class="social-icon" aria-label="WhatsApp"><img src="assets/Untitled design (9).svg" alt="WhatsApp"></a>
            <a href="https://www.facebook.com/profile.php?id=100087598423269&sk=reels_tab" class="social-icon" aria-label="Facebook" target="_blank" rel="noopener noreferrer"><img src="assets/Untitled design (11).svg" alt="Facebook"></a>
            <a href="https://www.instagram.com/ibr_roof_solutions_?igsh=dTZqMG00aGpoZGVn" class="social-icon" aria-label="Instagram" target="_blank" rel="noopener noreferrer"><img src="assets/Untitled design (10).svg" alt="Instagram"></a>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <script src="js/store.js"></script>
  <script src="js/main.js"></script>
</body>
</html>